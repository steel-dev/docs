---
title: Overview
sidebarTitle: Overview
description: How to upload, download, manage and work with files within an active session
full: true
llm: true
---
import Image from 'next/image'

<Image src="/images/AZtqJmCS-b3Skd0l83dcH.png" alt="Files API Overview" width={1000} height={300} />

Steel provides two complementary file management systems: Session Files for working with files within active browser sessions, and Global Files for persistent file storage across your organization.

### Overview

Steel's file management system makes it easy to work with files in your automated workflows:

*   **Session-Based File Operations**: Upload files to active sessions for immediate use in browser automations, download files acquired during browsing

*   **Persistent File Storage**: Maintain a global file repository for reuse across multiple sessions and workflows

*   **Workspace Management**: Organize and access files generated across different automation runs

*   **Data Pipeline Integration**: Upload datasets once and reference them across multiple automation sessions

*   **File Archival**: Automatically preserve files from completed sessions for later access


### How It Works

#### Session Files System

Files uploaded to active sessions become available within that session's isolated VM environment. These files can be used immediately with web applications and browser automation tools. When files are downloaded from the internet during a session, they become accessible through the same API. Session files persist beyond session lifecycle - files are automatically backed up when sessions end.

#### Global Files System

The Global Files API provides persistent, organization-wide file storage independent of browser sessions. Files uploaded to global storage can be referenced and mounted in any session. All session files are automatically promoted to global storage when sessions are released, creating a comprehensive file workspace.

### Session Files API

This section outlines how to interact with the filesystem inside of the VM that your session is running from. All of these files are accessible from the browser.

#### Upload Files to Session File System

<CodeTabs storage="languageSwitcher">

```bash !! curl -wc
curl -X POST "https://api.steel.dev/v1/sessions/{sessionId}/files/upload" \
  -H "steel-api-key: YOUR_API_KEY_HERE" \
  -F "file=@./steel.png"
```

```typescript !! Typescript -wc
// Upload file to session environment
const file = fs.createReadStream("./steel.png");
const session = await client.sessions.create();
const uploadedFile = await client.sessions.files.upload(session.id, {
  file: file, // or path in global files api or absolute url
});
```

```python !! Python -wc
import requests

session_id = "YOUR_SESSION_ID"
api_key = "YOUR_API_KEY_HERE"
file_path = "./steel.png"

with open(file_path, "rb") as f:
    response = requests.post(
        f"https://api.steel.dev/v1/sessions/{session_id}/files/upload",
        headers={"steel-api-key": api_key},
        files={"file": f}
    )
print(response.json())
```
</CodeTabs>


#### List Files in a Session File System

<CodeTabs storage="languageSwitcher">

```bash !! curl -wc
curl -X GET "https://api.steel.dev/v1/sessions/{sessionId}/files" \
  -H "steel-api-key: YOUR_API_KEY_HERE"
```

```typescript !! Typescript -wc
const files = await client.session.files.list(sessionId);
files.forEach(file => {
  console.log(`${file.path} | Size: ${file.size} | Last Modified: ${file.lastModified}`);
});
```

```python !! Python -wc
import requests

session_id = "YOUR_SESSION_ID"
api_key = "YOUR_API_KEY_HERE"

response = requests.get(
    f"https://api.steel.dev/v1/sessions/{session_id}/files",
    headers={"steel-api-key": api_key}
)
for file in response.json():
    print(f"{file['path']} | Size: {file['size']} | Last Modified: {file['lastModified']}")
```
</CodeTabs>


#### Download Files from Session File System

<CodeTabs storage="languageSwitcher">

```bash !! curl -wc
# Download a specific file
curl -X GET "https://api.steel.dev/v1/sessions/{sessionId}/files/path/to/file" \
  -H "steel-api-key: YOUR_API_KEY_HERE" -o downloaded_file

# Download all files as zip archive
curl -X GET "https://api.steel.dev/v1/sessions/{sessionId}/files/archive" \
  -H "steel-api-key: YOUR_API_KEY_HERE" -o session_files.zip
```

```typescript !! Typescript -wc
// Download a specific file from a session
const response = await client.sessions.files.download(sessionId, "path/to/file");
const fileBlob = await response.blob();

// Download all files as zip archive
const archiveResponse = await client.sessions.files.downloadArchive(sessionId);
```

```python !! Python -wc
import requests

session_id = "YOUR_SESSION_ID"
api_key = "YOUR_API_KEY_HERE"

# Download a specific file
file_resp = requests.get(
    f"https://api.steel.dev/v1/sessions/{session_id}/files/path/to/file",
    headers={"steel-api-key": api_key}
)
with open("downloaded_file", "wb") as f:
    f.write(file_resp.content)

# Download all files as zip archive
archive_resp = requests.get(
    f"https://api.steel.dev/v1/sessions/{session_id}/files/archive",
    headers={"steel-api-key": api_key}
)
with open("session_files.zip", "wb") as f:
    f.write(archive_resp.content)
```
</CodeTabs>


#### Delete Files from Sessions File System

<CodeTabs storage="languageSwitcher">

```bash !! curl -wc
# Delete a specific file
curl -X DELETE "https://api.steel.dev/v1/sessions/{sessionId}/files/path/to/file" \
  -H "steel-api-key: YOUR_API_KEY_HERE"

# Delete all files in a session
curl -X DELETE "https://api.steel.dev/v1/sessions/{sessionId}/files" \
  -H "steel-api-key: YOUR_API_KEY_HERE"
```

```typescript !! Typescript -wc
// Delete a specific file from a session
const response = await client.sessions.files.delete(sessionId, "path/to/file");

// Delete all files in a session
const archiveResponse = await client.sessions.files.deleteAll(session.id);
```

```python !! Python -wc
import requests

session_id = "YOUR_SESSION_ID"
api_key = "YOUR_API_KEY_HERE"

# Delete a specific file
del_resp = requests.delete(
    f"https://api.steel.dev/v1/sessions/{session_id}/files/path/to/file",
    headers={"steel-api-key": api_key}
)
print(del_resp.status_code)

# Delete all files in a session
del_all_resp = requests.delete(
    f"https://api.steel.dev/v1/sessions/{session_id}/files",
    headers={"steel-api-key": api_key}
)
print(del_all_resp.status_code)
```
</CodeTabs>


### Global Files API

#### Upload File to Global Storage

<CodeTabs storage="languageSwitcher">

```bash !! curl -wc
curl -X POST "https://api.steel.dev/v1/files/upload" \
  -H "steel-api-key: YOUR_API_KEY_HERE" \
  -F "file=@./dataset.csv"
```

```typescript !! Typescript -wc
const file = fs.createReadStream("./dataset.csv");
const globalFile = await client.files.upload({
    file,
   // path: "dataset.csv" // optional
});
console.log(globalFile.path); // dataset.csv

// Using the file from Global Files API in a session
const session = await client.sessions.create();
const uploadedFile = await client.sessions.files.upload(session.id, {
  file: globalFile.path
});
```

```python !! Python -wc
import requests

api_key = "YOUR_API_KEY_HERE"
file_path = "./dataset.csv"

with open(file_path, "rb") as f:
    response = requests.post(
        "https://api.steel.dev/v1/files/upload",
        headers={"steel-api-key": api_key},
        files={"file": f}
    )
print(response.json())
```
</CodeTabs>


#### List All Files

<CodeTabs storage="languageSwitcher">

```bash !! curl -wc
curl -X GET "https://api.steel.dev/v1/files" \
  -H "steel-api-key: YOUR_API_KEY_HERE"
```

```typescript !! Typescript
const files = await client.files.list();
files.forEach(file => {
  console.log(`${file.path} | Size: ${file.size} | Last Modified: ${file.lastModified}`);
});
```

```python !! Python
import requests

api_key = "YOUR_API_KEY_HERE"

response = requests.get(
    "https://api.steel.dev/v1/files",
    headers={"steel-api-key": api_key}
)
for file in response.json():
    print(f"{file['path']} | Size: {file['size']} | Last Modified: {file['lastModified']}")
```
</CodeTabs>


#### Download Global File

<CodeTabs storage="languageSwitcher">

```bash !! curl -wc
curl -X GET "https://api.steel.dev/v1/files/dataset.csv" \
  -H "steel-api-key: YOUR_API_KEY_HERE" -o dataset.csv
```

```typescript !! Typescript
const response = await client.files.download(file.path); // dataset.csv
const fileBlob = await response.blob();
```

```python !! Python -wc
import requests

api_key = "YOUR_API_KEY_HERE"
file_path = "dataset.csv"

response = requests.get(
    f"https://api.steel.dev/v1/files/{file_path}",
    headers={"steel-api-key": api_key}
)
with open(file_path, "wb") as f:
    f.write(response.content)
```
</CodeTabs>


#### Delete Global File

<CodeTabs storage="languageSwitcher">

```bash !! curl -wc
curl -X DELETE "https://api.steel.dev/v1/files/dataset.csv" \
  -H "steel-api-key: YOUR_API_KEY_HERE"
```

```typescript !! Typescript
await client.files.delete(file.path);
```

```python !! Python -wc
import requests

api_key = "YOUR_API_KEY_HERE"
file_path = "dataset.csv"

response = requests.delete(
    f"https://api.steel.dev/v1/files/{file_path}",
    headers={"steel-api-key": api_key}
)
print(response.status_code)
```
</CodeTabs>


### Usage in Context

#### Set File Input Values

Reference uploaded files in file input elements using CDP (Chrome DevTools Protocol).

```typescript Typescript -wc -f main.ts
// Create CDP session for advanced controls
const cdpSession = await currentContext.newCDPSession(page);
const document = await cdpSession.send("DOM.getDocument");

// Find the input element
const inputNode = await cdpSession.send("DOM.querySelector", {
  nodeId: document.root.nodeId,
  selector: "#file-input"
});

// Set the uploaded file as input
await cdpSession.send("DOM.setFileInputFiles", {
  files: [uploadedSessionFile.path],
  nodeId: inputNode.nodeId,
});

```


#### Standard Playwright/Puppeteer Upload

```typescript Typescript -wc -f main.ts
// For simple/smaller file uploads,
// using standard automation library methods will look at local files
await page.setInputFiles("#file-input", [uploadedSessionFile.path]);
```


#### Complete Example

End-to-end workflow demonstrating global file management and session file operations.

```typescript Typescript -wc -f main.ts
import dotenv from "dotenv";
import fs from "fs";
import { chromium } from "playwright";
import Steel from "steel-sdk";

dotenv.config();

const client = new Steel({
  steelAPIKey: process.env.STEEL_API_KEY,
});

async function main() {
  let session;
  let browser;

  try {
    // Upload dataset to global storage for reuse
    const datasetFile = new File(
      [fs.readFileSync("./data/stock-data.csv")],
      "stock-data.csv",
      { type: "text/csv" }
    );

    const globalFile = await client.files.upload({ file: datasetFile });
    console.log(`Dataset uploaded to global storage: ${globalFile.id}`);

    // Create session and mount global file
    session = await client.sessions.create();
    console.log(`Session created: ${session.sessionViewerUrl}`);

    const sessionFile = await client.sessions.files.upload(session.id, {
      file: globalFile.path
    });

    // Connect browser and use the file
    browser = await chromium.connectOverCDP(
      `wss://connect.steel.dev?apiKey=${process.env.STEEL_API_KEY}&sessionId=${session.id}`
    );

    const currentContext = browser.contexts()
[0];
    const page = currentContext.pages()
[0];

    // Navigate to data visualization tool
    await page.goto("<https://www.csvplot.com/>");

    // Upload file to web application using CDP
    const cdpSession = await currentContext.newCDPSession(page);
    const document = await cdpSession.send("DOM.getDocument");
    const inputNode = await cdpSession.send("DOM.querySelector", {
      nodeId: document.root.nodeId,
      selector: "#load-file",
    });

    await cdpSession.send("DOM.setFileInputFiles", {
      files: [sessionFile.path],
      nodeId: inputNode.nodeId,
    });

    // Wait for visualization and capture
    await page.waitForSelector("svg.main-svg");

    // Download all session files (original upload + any generated files)
    const archiveResponse = await client.sessions.files.download.archive(session.id);
    const zipBlob = await archiveResponse.blob();

    // Files are automatically available in global storage after session ends

  } catch (error) {
    console.error("Error:", error);
  } finally {
    if (browser) await browser.close();
    if (session) await client.sessions.release(session.id);

    // List all available files in global storage
    const allFiles = await client.files.list();
    console.log(`Total files in storage: ${allFiles.length}`);
  }
}

main();
```


:::callout
type: help
### Need help building with the Files API?
Reach out to us on the <span className="font-bold">#help</span> channel on [Discord](https://discord.gg/steel-dev) under the ‚≠ê community section.
:::
